# D2 — "投影即函数" 技术博客

## 为什么做这件事

通爻网络最重要的架构简化发生在 2026-02-07：我们发现 Agent 不是有状态对象，而是函数调用的结果。这个洞察砍掉了防漂移机制、Profile 更新算法、状态维护——整个系统的核心逻辑回归到一行伪代码：`agent_vector = project(profile_data, lens)`。

这个洞察目前只存在于内部文档（Design Log #003）。它是通爻架构思维的"顿悟时刻"——从"我们设计了一百个机制"到"它们其实是同一个操作"的认知跃迁。对于有技术背景的读者（开发者、架构师、对 AI Agent 感兴趣的人），这篇博客要让他们经历同样的认知跃迁：先看到复杂性，再看到简单性，最后理解为什么简单性是对的。

已有三篇文章（投影、谦逊、回声）面向更广泛的读者，用生活类比解释概念。这篇不同——它面向技术人，可以有代码、有架构图、有技术细节，但叙事弧线仍然是"从错误理解到正确理解"的故事，不是论文式的干巴巴论述。

## 你要回答什么问题

1. **为什么大多数人把 Agent 理解错了？** "有状态对象"这个心智模型为什么自然但错误？它导致了什么不必要的复杂性？
2. **"投影即函数"具体是什么意思？** 用代码和架构图说清楚：数据源 -> 透镜 -> 向量，无状态，每次重新计算。
3. **这个简化砍掉了什么？** 防漂移、状态维护、Profile 更新算法——列举被砍掉的复杂性，让读者感受到简化的力度。
4. **为什么函数式理解是对的？** 不只是"更简洁"——它与投影的数学本质一致，与通爻"完备性 != 完全性"的设计原则一致。
5. **这个思维方式能迁移到别的系统吗？** 读者自己的项目里，有没有"把应该是函数的东西当成了对象"的情况？

## 我们提供什么

### 核心素材（必读）

| 文档 | 位置 | 用途 |
|------|------|------|
| **Design Log #003** | `docs/DESIGN_LOG_003_PROJECTION_AS_FUNCTION.md` | 核心素材来源——洞察的完整记录，包含错误理解 vs 正确理解的对比、伪代码、架构变化 |
| **01\_投影.md** | `docs/articles/01_投影.md` | 写作风格参考——叙事弧线、生活类比、从个人体验出发 |
| **02\_谦逊.md** | `docs/articles/02_谦逊.md` | 写作风格参考——对比结构（完全 vs 完备）、哲学深度、工程落地 |
| **03\_回声.md** | `docs/articles/03_回声.md` | 写作风格参考——问题驱动、跨学科类比（物理学、生物学） |

### 背景素材（按需参考）

| 文档 | 位置 | 用途 |
|------|------|------|
| **架构设计文档** | `docs/ARCHITECTURE_DESIGN.md` | 理解通爻的整体架构和设计原则 |
| **Arch Skill** | `.claude/skills/arch/SKILL.md` | 通爻的世界观和设计信念（投影是基本操作、本质与实现分离等） |

### 已有结论（不需要从零推导）

- **Agent 是函数不是对象**——这个结论已确立，不需要论证"是否正确"
- **投影是通爻的唯一基本操作**——这个框架已在 01\_投影.md 中面向普通读者解释过
- **协作数据回流到数据源**——通爻不维护 Profile Data，只投影（Design Log #003 核心洞察 2）
- **Service Agent = 新增透镜**，不是"从 Edge Agent 分裂"（Design Log #003 核心洞察 3）

## 子任务分解

### D2.1: 提取核心叙事线（0.5 天）

读 Design Log #003，回答：
- 之前的错误理解是什么？（Agent 是有状态对象 -> 需要维护状态 -> 需要防漂移 -> 复杂）
- 顿悟的瞬间是什么？（创始人问"为什么要这么复杂？"）
- 正确理解是什么？（Agent = project(data, lens)，无状态，重新投影即可）
- 这个简化的力度有多大？（列出被砍掉的东西）

输出：1 页叙事大纲，标注"错误 -> 质疑 -> 顿悟 -> 验证"的节奏点。

### D2.2: 设计文章结构（0.5 天）

参考已有文章的结构模式，设计技术博客的骨架。建议的叙事弧：

```
1. 开场：一个熟悉的困境（"我们的 Agent 系统越来越复杂"）
2. 铺垫：展示复杂性（防漂移、状态维护、参数调优——让读者也觉得"这确实难"）
3. 质疑：那个改变一切的问题（"什么才是好的架构？有些问题本身就不该出现"）
4. 顿悟：Agent 是函数不是对象（代码对比、架构图对比）
5. 展开：这个理解如何简化一切（被砍掉的复杂性清单）
6. 深化：为什么函数式是对的（数学本质、设计原则、可插拔性）
7. 迁移：读者自己的系统里有没有类似的误解？
8. 结尾：好的架构不是设计出来的复杂性，而是简单规则的递归
```

输出：文章大纲 + 每个 section 的核心论点。

### D2.3: 撰写初稿（2-3 天）

2000-4000 字，包含：
- **代码示例**：错误版本（有状态对象）vs 正确版本（函数调用），用 Python 伪代码
- **架构图对比**：之前的架构（复杂）vs 之后的架构（极简），可以用文本框图
- **被砍掉的东西清单**：让读者感受简化的力度
- **技术深度**：可以提到 HDC、超向量、投影的数学含义，但要用直觉解释

语气参考：已有三篇文章的共同特点——
- 从个人体验出发（"我在设计...时发现..."）
- 不传教，不说"这是最好的方法"
- 有自省（"我们之前理解错了"）
- 结尾有余韵，不做总结

### D2.4: 添加生活类比（0.5 天）

至少 1-2 个生活类比，让非通爻的技术人也能理解"函数 vs 对象"的区分。

可选方向（仅供启发，不限于此）：
- **体检 vs 实时监测**：体检报告是快照（对象），血压计随时测量是函数调用
- **照片 vs 镜子**：照片存储了某一刻的你（对象），镜子每次给你实时的投影（函数）
- **简历 vs 面试**：简历是固化的状态，面试是针对具体岗位的实时投影
- **缓存 vs 查询**：技术读者熟悉的概念——缓存失效是最难的问题之一，如果根本不缓存呢？

### D2.5: 内部审阅 + 修改（1 天）

审阅清单：
- [ ] 技术准确性：投影即函数的核心论点是否准确传达？
- [ ] 叙事节奏：从复杂到简单的弧线是否自然？读者是否会在"顿悟"处停下来想一想？
- [ ] 代码质量：代码示例是否可读、自解释？
- [ ] 类比质量：类比是否能帮助理解，还是在分散注意力？
- [ ] 风格一致：与已有三篇文章的语气是否一致（有个人感、有自省、不传教）？
- [ ] 独立可读：不了解通爻的技术读者能否单独理解这篇文章的核心论点？

## 做完了是什么样

### 产出格式
- Markdown 文件，标题为"投影即函数"或作者自拟的更有吸引力的标题
- 包含至少 2 段代码示例（Python 伪代码）
- 包含至少 1 个架构对比图（文本框图或 Mermaid 均可）

### 产出规模
- 2000-4000 字（中文）
- 约 5-8 分钟阅读时间

### 质量标准

**"做完了"**：
- 核心论点清晰（Agent 是函数不是对象）
- 有代码对比（错误 vs 正确）
- 有被砍掉的复杂性清单
- 有至少一个生活类比
- 文章可以独立阅读，不依赖对通爻的了解

**"做得好"**：
- 读完之后，技术读者会反思自己的系统是否有类似的"把函数当对象"的误解
- 叙事弧线有张力——读者在前半段感受到复杂性的压迫，在后半段体验到简化的愉悦
- 类比既生动又精准，不是装饰
- 结尾让人想继续了解通爻（但不是推销）

## 你必须遵守的

1. **核心论点不能偏**：Agent 是投影函数的结果，不是有状态对象。这是通爻已确立的架构决策，不是可以质疑的假说。
2. **不传教**：不要说"通爻是最好的"、"传统方法都错了"。展示我们自己犯过的错，展示简化的过程。谦逊感是这个系列的底色。
3. **代码要可读**：代码示例是给技术读者看的核心内容，不是装饰。要简洁、自解释、有注释。
4. **风格对齐**：参考已有三篇文章的共同特点——从个人体验出发、有自省、有跨学科类比、结尾有余韵。这篇可以更技术化，但叙事骨架一致。
5. **不泄露未确定的架构细节**：HDC 编码策略、具体的共振阈值、性能数据——这些还在实验中，不要给出具体数字或承诺。
6. **文章主体中不推销通爻**：核心叙事是"我们怎么从复杂到简单"的故事，读者自然会对通爻产生兴趣。末尾可以简短提及通爻。

## 你可以自己决定的

1. **标题**：可以用"投影即函数"，也可以自拟更有吸引力的标题
2. **叙事视角**：第一人称（"我发现..."）或第三人称（"团队发现..."），参考已有文章大多用第一人称
3. **类比选择**：生活类比的具体内容完全自定，只要能帮助理解核心论点
4. **技术深度**：HDC/超向量可以提，也可以不提——取决于你判断目标读者需要多少背景
5. **文章结构**：D2.2 的建议结构仅供参考，可以完全重新设计
6. **语言**：中文为主。如果觉得某些技术术语用英文更自然，可以中英混用
7. **额外洞察**：如果在写作过程中发现了 Design Log #003 中没有的新洞察，欢迎加入

## 对接方式

- **产出提交到**：`docs/articles/04_投影即函数.md`（文件名可调整）
- **有问题找**：创始人（架构意图和核心概念的确认）
- **建议节奏**：
  - D2.1 + D2.2：第 1 天（读素材 + 出大纲）
  - D2.3：第 2-4 天（写初稿）
  - D2.4：第 4 天（补类比）
  - D2.5：第 5 天（审阅修改）
  - 总计约 1 周
- **后续依赖**：
  - 这篇文章与 D1（响应范式科普）互补——D1 面向所有人，D2 面向技术人
  - 发布后可作为 H3（开发者入门套件）的参考阅读材料
  - 技术社区运营（F1）需要这类内容作为素材
