# S2 — 基于 SDK 构建技能交换平台

> 创建日期：2026-02-09
> 任务类型：SDK 应用验证 × 场景通用性验证
> 优先级：Tier 2（S1 完成后启动更佳）
> PRD 状态：已细化
> 依赖：建议 S1 先完成（SDK 可用性已验证）
> 关联任务：S1（黑客松组队应用，同系列前置）、T1（场景建模模板，S2 场景可先用 T1 建模）、S3（Adapter 实现，可复用 S2 的场景）

---

## 这个任务在项目中的位置

S1 验证了 SDK 在"黑客松组队"场景下的可用性。但通爻 SDK 的设计目标不是只能做组队——它是一个通用的 AToA（Agent-to-Agent）协商引擎。

**S2 验证的是 SDK 的场景通用性**：把同一套 SDK 用在一个完全不同的场景——技能交换（自由职业者 ↔ 需求方的能力匹配与协商），看看需要做多少适配工作，哪些 Skill 需要重写，哪些可以复用。

```
[S1: 组队场景] → 验证"SDK 好不好用"
[S2: 技能交换场景（你在这里）] → 验证"SDK 通不通用"
                                   ├── 场景差异有多大？
                                   ├── 哪些 Skill 需要重写？
                                   └── SDK 的抽象层次是否正确？
```

**与 V1/V2 解耦**：只调用 SDK 公开 API，不修改核心代码。

---

## 为什么做这件事

一个 SDK 只在一个场景下验证过，你无法知道它的抽象是否正确。可能它的 Protocol 接口恰好和组队场景完美匹配，但换个场景就处处不顺。

技能交换场景与组队场景的关键差异：
- **角色不对称**：组队是"大家都是参赛者"，技能交换是"需求方 ↔ 提供方"两个不同角色
- **协商焦点不同**：组队关注互补性和"对味"，技能交换关注能力匹配、价格、交付周期
- **时间维度**：组队是一次性的（一次黑客松），技能交换可能是持续的合作关系
- **评价维度**：组队成功靠团队化学反应，技能交换成功靠交付质量

如果 SDK 能同时适配这两个差异较大的场景，说明抽象层次是对的。如果不能，S2 的报告会精确指出哪里需要改。

---

## 你要回答什么问题

**核心问题**：通爻 SDK 的 Protocol 抽象是否足够通用，能用同一套接口同时服务"组队"和"技能交换"两种不同类型的场景？

**子问题**：

1. **角色建模**：在技能交换中，需求方和提供方是两种不同角色。SDK 当前的 `ProfileDataSource` 能否自然地表达这种不对称？
2. **Skill 适配**：6 个内置 Skill 中，哪些可以直接用、哪些需要重写、哪些需要新增？
3. **协商语义差异**：组队的"方案"是团队组合，技能交换的"方案"是合作协议。CenterCoordinatorSkill 能否适配这种差异？
4. **数据结构**：技能交换需要的画像字段（技能等级、价格区间、可用时间、过往案例）和组队画像差多大？SDK 的数据结构是否灵活？
5. **场景适配成本**：从零到可运行的技能交换应用，比组队应用多了多少工作量？多出的工作量是场景特定的（正常）还是 SDK 限制导致的（需要改进）？

---

## 我们提供什么

### SDK 文档和资源

| 资源 | 位置 | 用途 |
|------|------|------|
| **SDK 开发者指南** | `backend/docs/SDK_GUIDE.md` | 主要参考文档 |
| **SDK 安装** | `pip install git+https://github.com/NatureBlueee/Towow.git#subdirectory=backend` | 安装 |
| **SDK 示例** | `backend/examples/` | 3 个基础示例 |
| **S1 应用代码**（如果已完成） | `apps/S1_hackathon_app/` | 前一个 SDK 应用的参考 |

### 技能交换场景参考

自由职业者平台（Upwork、Fiverr、TopTal）的模式可供参考，但通爻的差异在于：
- 不是"发布需求 → 搜索服务商"（搜索范式）
- 而是"发出需求信号 → 相关能力的 Agent 自主响应 → 协商出合作方案"（响应范式）

### 设计原则

| # | 原则 | 在技能交换场景中的意义 |
|---|------|---------------------|
| 0.6 | 需求 ≠ 要求 | 客户说"要一个 React 开发者"，可能真正需要的是"能快速做出可演示原型的人"——可能是 No-code 专家 |
| 0.8 | 投影是基本操作 | 同一个自由职业者在不同项目类型中展现的能力投影不同 |
| 0.2 | 本质与实现分离 | 技能交换和组队是不同的场景实现，但协商的本质（需求 → 响应 → 聚合 → 方案）是同一个 |

---

## 子任务分解

### S2.1 — 场景建模

**描述**：分析技能交换场景的核心流程：需求方发布需求 → 自由职业者响应 → 多方协商 → 合作方案。可参考 T1 模板的建模方法。

**依赖**：无

**交付物**：
- 用户旅程图（需求方 + 提供方两条线）
- 核心决策因素清单（什么决定"选这个人"）
- 与组队场景的差异分析表

### S2.2 — 数据层适配

**描述**：设计自由职业者和需求方的画像数据结构，实现 `ProfileDataSource`。至少 8 个自由职业者 + 3 个需求方。

**依赖**：S2.1

**交付物**：
- 画像数据结构文档
- `ProfileDataSource` 实现
- 样例数据
- 与组队场景数据结构的差异报告

### S2.3 — Skill 定制与新增

**描述**：逐一评估 6 个内置 Skill 在技能交换场景中的适用性。定制或新增需要的 Skill。

**依赖**：S2.2

**交付物**：
- Skill 适用性评估表（每个 Skill：可直接用 / 需定制 / 需新增 / 不需要）
- 定制/新增的 Skill 代码
- 每个定制决策的设计说明

### S2.4 — 应用开发

**描述**：构建技能交换 Web 应用或命令行应用。核心功能：需求发布 → Agent 响应 → 协商过程 → 合作方案展示。

**依赖**：S2.3

**交付物**：
- 可运行的应用
- 至少 3 个不同类型需求的运行演示

### S2.5 — 场景适配报告

**描述**：S2 最核心的产出——系统比较"用同一套 SDK 做两个不同场景"的体验。

**依赖**：S2.4

**交付物**：
- **场景适配报告**（3000-4000 字），至少包含：
  - SDK 抽象层次评估（Protocol 是否足够通用？）
  - Skill 复用率统计（几个可直接用、几个需要改、几个需要新增）
  - 适配工作量分析（场景特定 vs SDK 限制）
  - 与 S1 的对比（两次开发体验的差异）
  - 对 SDK 的改进建议（具体的接口调整提案）
  - 对"SDK 适合什么类型场景"的判断

---

## 做完了是什么样

### 产出清单

1. **可运行的技能交换应用** — 展示完整的协商流程
2. **场景适配报告** — SDK 通用性的系统评估
3. **Skill 适用性评估表** — 6 个 Skill 在新场景下的表现

### 三级质量标准

**做完了（基本合格）**：
- 应用可运行
- 场景适配报告有数据支撑（不是"感觉还行"）
- 明确标注了哪些 Skill 可复用、哪些不可

**做得好（超出预期）**：
- 发现了 SDK Protocol 的具体改进点，并提出了可操作的修改建议
- 技能交换场景展示了与组队场景不同的"认知转变"模式
- 真实用户（3+）试用并反馈

**做得出色（产生额外价值）**：
- 场景适配报告推动了 SDK Protocol 的调整
- 提出了"SDK 通用性评估框架"——未来新场景可以用这个框架快速判断适配成本
- 发现了技能交换场景中响应范式的独特价值

---

## 你必须遵守的

1. **只使用 SDK 公开 API**，不修改核心代码
2. **与 S1 做系统对比**——S2 的核心价值在于"两个场景的对比"，而非"又做了一个应用"
3. **诚实报告适配困难**——如果某些地方不好适配，详细记录，这正是 S2 的价值
4. **中文优先**

---

## 你可以自己决定的

- 技术栈自选
- 如果发现技能交换不是最好的对比场景，可以提出替代场景并说明原因
- 如果 S1 尚未完成，可以独立开展，但报告中的对比部分需要 S1 完成后补充
- 如果发现某个 Protocol 接口确实需要改才能适配，可以在报告中写"架构建议"

---

## 对接方式

### 提交位置
- 应用代码：`apps/S2_skill_exchange/`
- 适配报告：`research/S2_skill_exchange/report.md`

### 建议周期
- 2-3 周（S1 完成后启动更高效）

### 后续依赖
- S2 的场景适配报告直接影响 SDK Protocol 的 V2 设计
- S2 中新增的 Skill 可能被收入 SDK 的"场景 Skill 库"

---

*本 PRD 于 2026-02-09 任务审查中创建。S 系列任务与 V1/V2 核心开发完全解耦。*
*参考文档：`backend/docs/SDK_GUIDE.md`、`docs/tasks/TASK_REVIEW_2026_02_09.md`*
