# T2 — 独立场景小应用模板

> 创建日期：2026-02-07（2026-02-09 更新引用）
> 任务类型：产品验证 × 任务模板
> 优先级：模板（按需实例化）
> PRD 状态：已细化
> 关联任务：T1（场景建模模板，上游——先理解场景再动手做）、S1（SDK 组队应用，T2 的第一个实例化范例）、B1（黑客松组队场景，T2 的场景参考）
>
> **2026-02-09 更新**：SDK 已封装完成（`towow-sdk`，pip install 可用），T2 模板的实例化现在可以直接基于 SDK 构建，而非从零开始。原 H3（开发者入门套件）已由 `backend/docs/SDK_GUIDE.md` 替代。建议参考 S1（SDK 组队应用）作为 T2 实例化的范例。

---

## 这个模板在项目中的位置

通爻（ToWow）的核心理念（响应范式、投影即函数、协商即聚合）需要在真实产品中被验证。光有架构设计和论文调研是不够的——需要真正做出一个能用的东西，看看用户是否真的体验到"认知转变"。

**T2 就是把通爻理念变成可用产品的模板。** 它帮助开发者从"理解通爻"跨越到"用通爻做一个真正的应用"。和 T1（场景建模）的关系是：T1 先理解用户和场景，T2 再动手做产品。

```
[T1: 场景建模] → 理解用户 → [T2: 独立小应用模板（你在这里）] → 做出产品 → 验证理念
                                    ↑
                           [H3: 开发者入门套件] (前置知识)
```

**为什么是"模板"而非"任务"**：不同场景（组队、招聘、选书、找餐厅）的应用细节不同，但核心模式相同——需求表达 → 广播 → 共振/响应 → 聚合 → 方案。T2 定义了这个共同的骨架，具体应用填入场景特定的内容。

> 这不是一个具体任务，而是**任务模板**。当有开发者想用通爻理念做产品时，用这个模板为他/她生成具体任务。

---

## 这个模板适合谁

有开发能力、想用通爻理念做实际产品的人。可以是黑客松参赛者、独立开发者、或者想做 side project 的工程师。

需要：基本的 Web 开发能力 + 对通爻理念的基本理解（建议先阅读 SDK 开发者指南）。

## 前置条件

- 已有一个 T1 场景建模的输出（知道要做什么场景）
- 已读过 SDK 开发者指南（`backend/docs/SDK_GUIDE.md`）——知道 SDK 怎么用、Skill 体系是什么
- 已安装 SDK：`pip install git+https://github.com/NatureBlueee/Towow.git#subdirectory=backend`

## 怎么用这个模板

### 第一步：选择场景和确认约束

```
场景：[选一个 T1 中已建模的场景]
规模：[预期用户数量]
技术栈：[你擅长的技术栈]
时间预算：[可投入的时间]
```

### 第二步：按子任务执行

#### T2.1 — 设计核心流程
**做什么**：基于 T1 的场景建模，设计应用的核心流程。必须包含通爻的核心模式：需求表达 → 广播 → 共振/响应 → 聚合 → 方案。
**约束**：必须体现"响应范式"（不是搜索匹配）。
**交付**：流程图 + 简要设计文档

#### T2.2 — 接入 Profile 数据源
**做什么**：实现 SDK 的 `ProfileDataSource` Protocol，接入你的场景数据。可以从 JSON 文件、数据库、或 SecondMe API 读取。实现用户投影——同一个人在你的场景中展现的特定面。
**约束**：实现 `ProfileDataSource` Protocol 接口，不硬绑定特定数据源。
**交付**：`ProfileDataSource` 实现代码 + 场景画像数据

#### T2.3 — 实现协商过程
**做什么**：实现多方响应 + 方案生成的过程。不是"一次匹配"，而是"多个响应 → 聚合 → 生成方案"。
**约束**：用户应该能看到多个方案（不是"最优匹配"），每个方案有解释。
**交付**：协商逻辑代码 + 方案展示 UI

#### T2.4 — 验证认知转变
**做什么**：在应用中设计一个环节，让用户有可能发现"我以为需要 X，原来需要 Y"。收集用户反馈。
**约束**：不是强制认知转变，而是创造条件让它自然发生。
**交付**：认知转变设计文档 + 用户反馈收集方案

#### T2.5 — 部署和报告
**做什么**：部署可访问的 Web 应用。撰写使用报告——什么 work 了？什么不 work？有哪些意外发现？
**交付**：部署链接 + 使用报告（1000-2000 字）

## 我们提供什么

### 概念着陆（通爻术语 → T2 应用开发中的含义）

| 通爻术语 | 在应用开发中意味着 | 代码层面 |
|---------|-------------------|---------|
| 投影（Projection） | 从用户数据源读取信息，针对当前场景提取相关能力 | `project(profile_data, scene_lens) -> agent_vector` |
| 共振（Resonance） | 每个 Agent 在本地判断"这个需求跟我有没有关系" | `if similarity(demand_vec, agent_vec) > threshold: respond()` |
| 协商（Negotiation） | 多个 Agent 的响应被聚合成一个方案——不是排行榜 | `aggregate(offers[]) -> proposal` |
| 响应范式 | 用户发出需求信号，让合适的人来响应——不是搜索和筛选 | 核心区别：应用中不能有"搜索框"和"筛选条件" |
| 认知转变 | 用户发现"我以为需要 X，其实需要 Y" | 设计一个环节让用户有机会发现这一点 |

### 设计原则（与 T2 的关系）

| # | 原则 | 在应用开发中的意义 |
|---|------|-------------------|
| 0.1 | 最小完整单元 | 你的应用必须展示完整的协商闭环：需求 → 响应 → 聚合 → 方案。不能只做前半段 |
| 0.2 | 本质与实现分离 | 使用 Adapter 模式接入数据源——不硬绑定 SecondMe 或任何特定来源 |
| 0.6 | 需求 ≠ 要求 | 你的应用要帮用户发现"真正需要什么"，不只是满足"用户说要什么" |
| 0.5 | 代码保障 > Prompt 保障 | 核心流程（等待所有 Offer 到齐、遮蔽第一轮信息）用代码控制，不依赖 Prompt |

### 参考资源

| 资源 | 位置 | 用途 |
|------|------|------|
| **SDK 开发者指南** | `backend/docs/SDK_GUIDE.md` | **前置知识**——960 行中文，含设计思想 + Skill 体系 + 快速开始 |
| **SDK 示例** | `backend/examples/` | 3 个示例：minimal_negotiation / custom_skill / headless_mode |
| B1（组队场景建模） | `docs/tasks/B1_hackathon_teaming.md` | 场景理解范例 |
| S1（SDK 组队应用） | `docs/tasks/S1_hackathon_app.md` | T2 实例化的完整范例 |
| Team Matcher 代码 | `website/app/apps/team-matcher/` | 前端参考实现 |
| V1 API 路由 | `backend/towow/api/routes.py` | SDK 在 Web 层的使用参考 |
| Dev Skill | `.claude/skills/towow-dev/SKILL.md` | 工程实践指导 |
| Arch Skill | `.claude/skills/arch/SKILL.md` | 架构原则和世界观 |

## 做完了是什么样

### 产出清单

1. **可运行的 Web 应用** — 展示完整的需求 → 响应 → 协商 → 方案流程
2. **使用报告**（1000-2000 字）— 什么 work 了？什么不 work？有哪些意外发现？

### 验证标准

一个好的小应用应该能回答"是"到以下问题：
- [ ] 用户是"发出信号等响应"，而不是"搜索过滤"？
- [ ] 有多个方案供选择（不是"最优匹配"）？
- [ ] 至少 1 个用户说了"我没想到可以这样"？
- [ ] 换一个场景，核心逻辑能复用吗？

### 三级质量标准

**做完了（基本合格）**：
- 应用可运行，展示了完整的核心流程
- 至少有 5 个模拟用户/Agent 的数据
- 使用报告诚实记录了优缺点

**做得好（超出预期）**：
- 至少 3 个真实用户试用并给出反馈
- 在使用报告中发现了通爻理念在该场景下的独特价值或局限
- 核心逻辑代码可被其他场景直接复用（Adapter 模式有效）

**做得出色（产生额外价值）**：
- 应用有真实用户持续使用（不只是一次性测试）
- 至少 1 个用户体验到了"认知转变"——以为需要 X，发现需要 Y
- 使用报告的洞察被反馈到通爻架构设计中，改进了核心机制
- 应用成为通爻对外展示的标杆案例

## 交付方式

- 代码提交到：`apps/[你的应用名]/`
- 使用报告提交到：`research/apps/[你的应用名]/report.md`
- 建议周期：2-4 周

## 包含原任务

E1（黑客松参赛项目）、E2（独立小应用验证）均使用此模板生成。
